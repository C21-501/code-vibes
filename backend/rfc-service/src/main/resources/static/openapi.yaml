openapi: 3.0.3
info:
  description: API для системы управления запросами на изменение (RFC)
  title: RFC Management System API
  version: 1.0.0
servers:
- url: /
security:
- bearerAuth: []
paths:
  /user:
    get:
      description: |
        Возвращает список пользователей с поддержкой пагинации и поиска.
        Поиск осуществляется по ID, username, firstName и lastName (case-insensitive).
      operationId: getUsers
      parameters:
      - description: Номер страницы (начиная с 0)
        in: query
        name: page
        required: false
        schema:
          default: 0
          minimum: 0
          type: integer
      - description: Размер страницы
        in: query
        name: size
        required: false
        schema:
          default: 20
          maximum: 100
          minimum: 1
          type: integer
      - description: "Строка поиска (по ID, username, firstName, lastName)"
        in: query
        name: searchString
        required: false
        schema:
          minLength: 1
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserPageResponse"
          description: Успешный возврат списка пользователей
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить пагинированный список пользователей
      tags:
      - Users
    post:
      description: Создание нового пользователя в системе
      operationId: createUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserResponse"
          description: Пользователь успешно создан
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Создать нового пользователя
      tags:
      - Users
  /user/{id}:
    delete:
      description: Удаление пользователя из системы по идентификатору
      operationId: deleteUser
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "204":
          description: Пользователь успешно удален
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Удалить пользователя
      tags:
      - Users
    get:
      description: Возвращает детальную информацию о пользователе по его идентификатору
      operationId: getUserById
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserResponse"
          description: Успешный возврат пользователя
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить пользователя по ID
      tags:
      - Users
    put:
      description: Полное обновление информации о пользователе
      operationId: updateUser
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateUserRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserResponse"
          description: Пользователь успешно обновлен
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Обновить пользователя
      tags:
      - Users
  /user/me:
    get:
      description: Возвращает информацию о текущем авторизованном пользователе
      operationId: getCurrentUser
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserResponse"
          description: Успешное получение информации о пользователе
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить информацию о текущем пользователе
      tags:
      - Users
  /user/login:
    post:
      description: "Аутентификация пользователя по имени и паролю, возвращает JWT\
        \ токены"
      operationId: loginUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginResponse"
          description: Успешная аутентификация
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Аутентификация пользователя
      tags:
      - Users
  /team:
    get:
      description: Возвращает список команд с поддержкой пагинации и фильтрации по
        названию
      operationId: getTeams
      parameters:
      - description: Номер страницы (начиная с 0)
        in: query
        name: page
        required: false
        schema:
          default: 0
          minimum: 0
          type: integer
      - description: Размер страницы
        in: query
        name: size
        required: false
        schema:
          default: 20
          maximum: 100
          minimum: 1
          type: integer
      - description: Фильтр по названию команды (поиск по совпадению)
        in: query
        name: name
        required: false
        schema:
          minLength: 1
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamPageResponse"
          description: Успешный возврат списка команд
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить пагинированный список команд
      tags:
      - Teams
    post:
      description: Создание новой команды в системе
      operationId: createTeam
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TeamRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamResponse"
          description: Команда успешно создана
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Создать новую команду
      tags:
      - Teams
  /team/{id}:
    delete:
      description: Удаление команды по идентификатору
      operationId: deleteTeam
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "204":
          description: Команда успешно удалена
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Удалить команду
      tags:
      - Teams
    get:
      description: Возвращает детальную информацию о команде по её идентификатору
      operationId: getTeamById
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamResponse"
          description: Успешный возврат команды
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить команду по ID
      tags:
      - Teams
    put:
      description: Полное обновление информации о команде
      operationId: updateTeam
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TeamRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TeamResponse"
          description: Команда успешно обновлена
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Обновить команду
      tags:
      - Teams
  /system:
    get:
      description: Возвращает список систем с поддержкой пагинации и фильтрации по
        названию
      operationId: getSystems
      parameters:
      - description: Номер страницы (начиная с 0)
        in: query
        name: page
        required: false
        schema:
          default: 0
          minimum: 0
          type: integer
      - description: Размер страницы
        in: query
        name: size
        required: false
        schema:
          default: 20
          maximum: 100
          minimum: 1
          type: integer
      - description: Фильтр по названию системы (поиск по совпадению)
        in: query
        name: name
        required: false
        schema:
          minLength: 1
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SystemPageResponse"
          description: Успешный возврат списка систем
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить пагинированный список систем
      tags:
      - Systems
    post:
      description: Создание новой системы в системе
      operationId: createSystem
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SystemRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SystemResponse"
          description: Система успешно создана
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Создать новую систему
      tags:
      - Systems
  /system/{id}:
    delete:
      description: Удаление системы по идентификатору
      operationId: deleteSystem
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "204":
          description: Система успешно удалена
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Удалить систему
      tags:
      - Systems
    get:
      description: Возвращает детальную информацию о системе по её идентификатору
      operationId: getSystemById
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SystemResponse"
          description: Успешный возврат системы
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить систему по ID
      tags:
      - Systems
    put:
      description: Полное обновление информации о системе
      operationId: updateSystem
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SystemRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SystemResponse"
          description: Система успешно обновлена
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Обновить систему
      tags:
      - Systems
  /system/{id}/subsystem:
    get:
      description: Возвращает список подсистем для указанной системы
      operationId: getSystemSubsystems
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubsystemPageResponse"
          description: Успешный возврат списка подсистем
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить список подсистем системы
      tags:
      - Subsystems
    post:
      description: Создание новой подсистемы для указанной системы
      operationId: createSubsystem
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SubsystemRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubsystemResponse"
          description: Подсистема успешно создана
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Создать подсистему
      tags:
      - Subsystems
  /system/{id}/subsystem/{subsystemId}:
    delete:
      description: Удаление подсистемы
      operationId: deleteSubsystem
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      - description: ID подсистемы
        in: path
        name: subsystemId
        required: true
        schema:
          format: int64
          type: integer
      responses:
        "204":
          description: Подсистема успешно удалена
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Удалить подсистему
      tags:
      - Subsystems
    get:
      description: Возвращает детальную информацию о подсистеме
      operationId: getSubsystemById
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      - description: ID подсистемы
        in: path
        name: subsystemId
        required: true
        schema:
          format: int64
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubsystemResponse"
          description: Успешный возврат подсистемы
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить подсистему по ID
      tags:
      - Subsystems
    put:
      description: Полное обновление информации о подсистеме
      operationId: updateSubsystem
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      - description: ID подсистемы
        in: path
        name: subsystemId
        required: true
        schema:
          format: int64
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SubsystemRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubsystemResponse"
          description: Подсистема успешно обновлена
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Обновить подсистему
      tags:
      - Subsystems
  /rfc:
    get:
      description: Возвращает список RFC с поддержкой пагинации и фильтрации
      operationId: getRfcs
      parameters:
      - description: Номер страницы (начиная с 0)
        in: query
        name: page
        required: false
        schema:
          default: 0
          minimum: 0
          type: integer
      - description: Размер страницы
        in: query
        name: size
        required: false
        schema:
          default: 20
          maximum: 100
          minimum: 1
          type: integer
      - description: Фильтр по статусу RFC
        in: query
        name: status
        required: false
        schema:
          enum:
          - NEW
          - UNDER_REVIEW
          - APPROVED
          - IMPLEMENTED
          - REJECTED
          type: string
      - description: Фильтр по срочности
        in: query
        name: urgency
        required: false
        schema:
          enum:
          - EMERGENCY
          - URGENT
          - PLANNED
          type: string
      - description: Фильтр по ID создателя
        in: query
        name: requesterId
        required: false
        schema:
          format: int64
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RfcPageResponse"
          description: Успешный возврат списка RFC
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить пагинированный список RFC
      tags:
      - RFC
    post:
      description: "Создание нового RFC с затронутыми системами, подсистемами и ис\
        полнителями"
      operationId: createRfc
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RfcRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RfcResponse"
          description: RFC успешно создан
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Создать новый RFC
      tags:
      - RFC
  /rfc/{id}:
    delete:
      description: Удаление RFC по ID
      operationId: deleteRfc
      parameters:
      - description: ID RFC
        in: path
        name: id
        required: true
        schema:
          format: int64
          type: integer
      responses:
        "204":
          description: RFC успешно удален
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Удалить RFC
      tags:
      - RFC
    get:
      description: Возвращает детальную информацию об RFC
      operationId: getRfcById
      parameters:
      - description: ID RFC
        in: path
        name: id
        required: true
        schema:
          format: int64
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RfcResponse"
          description: Успешный возврат RFC
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить RFC по ID
      tags:
      - RFC
    put:
      description: Обновление существующего RFC (статус обновляется автоматически
        и не может быть изменен через этот эндпоинт)
      operationId: updateRfc
      parameters:
      - description: ID RFC
        in: path
        name: id
        required: true
        schema:
          format: int64
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RfcRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RfcResponse"
          description: RFC успешно обновлен
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Обновить RFC
      tags:
      - RFC
  /rfc/{id}/approve:
    post:
      description: "Согласование RFC пользователем с ролью RFC_APPROVER, CAB_MANAGER\
        \ или ADMIN"
      operationId: approveRfc
      parameters:
      - description: ID RFC
        in: path
        name: id
        required: true
        schema:
          format: int64
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApproveRfcRequest"
        required: false
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RfcApprovalResponse"
          description: RFC успешно согласован
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "403":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Согласовать RFC
      tags:
      - RFC
  /rfc/{id}/unapprove:
    post:
      description: "Отмена согласования RFC пользователем с ролью RFC_APPROVER, CAB_MANAGER\
        \ или ADMIN"
      operationId: unapproveRfc
      parameters:
      - description: ID RFC
        in: path
        name: id
        required: true
        schema:
          format: int64
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UnapproveRfcRequest"
        required: false
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RfcApprovalResponse"
          description: Согласование RFC успешно отменено
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "403":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Отменить согласование RFC
      tags:
      - RFC
  /rfc/{id}/approvals:
    get:
      description: Возвращает список всех согласований для указанного RFC с информацией
        о согласующих и статусах
      operationId: getRfcApprovals
      parameters:
      - description: ID RFC
        in: path
        name: id
        required: true
        schema:
          format: int64
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RfcApprovalsResponse"
          description: Успешный возврат списка согласований
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Получить список согласований для RFC
      tags:
      - RFC
  /rfc/{rfcId}/subsystem/{subsystemId}/confirmation:
    patch:
      description: Изменение статуса подтверждения исполнителем (PENDING → CONFIRMED/REJECTED)
      operationId: updateSubsystemConfirmationStatus
      parameters:
      - description: ID RFC
        in: path
        name: rfcId
        required: true
        schema:
          format: int64
          type: integer
      - description: ID затронутой подсистемы
        in: path
        name: subsystemId
        required: true
        schema:
          format: int64
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateSubsystemConfirmationStatus_request"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AffectedSubsystemResponse"
          description: Статус успешно обновлен
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Обновить статус подтверждения подсистемы
      tags:
      - RFC
  /rfc/{rfcId}/subsystem/{subsystemId}/execution:
    patch:
      description: Изменение статуса выполнения задачи исполнителем (PENDING → IN_PROGRESS
        → DONE)
      operationId: updateSubsystemExecutionStatus
      parameters:
      - description: ID RFC
        in: path
        name: rfcId
        required: true
        schema:
          format: int64
          type: integer
      - description: ID затронутой подсистемы
        in: path
        name: subsystemId
        required: true
        schema:
          format: int64
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateSubsystemExecutionStatus_request"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AffectedSubsystemResponse"
          description: Статус успешно обновлен
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Обновить статус выполнения подсистемы
      tags:
      - RFC
  /attachment:
    post:
      description: Загрузка нового файла (максимум 5MB). Файл загружается независимо
        и позже привязывается к RFC.
      operationId: uploadAttachment
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/uploadAttachment_request"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AttachmentResponse"
          description: Файл успешно загружен
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "413":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Файл слишком большой (максимум 5MB)
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Загрузить файл
      tags:
      - Attachments
  /attachment/{id}:
    get:
      description: Скачивание файла по его уникальному идентификатору
      operationId: downloadAttachment
      parameters:
      - description: ID элемента
        in: path
        name: id
        required: true
        schema:
          format: int64
          nullable: false
          type: integer
      responses:
        "200":
          content:
            application/octet-stream:
              schema:
                format: binary
                type: string
          description: Успешное скачивание файла
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal Server Error
      summary: Скачать файл по ID
      tags:
      - Attachments
components:
  parameters:
    pageable-page:
      description: Номер страницы (начиная с 0)
      in: query
      name: page
      required: false
      schema:
        default: 0
        minimum: 0
        type: integer
    pageable-size:
      description: Размер страницы
      in: query
      name: size
      required: false
      schema:
        default: 20
        maximum: 100
        minimum: 1
        type: integer
    path-id:
      description: ID элемента
      in: path
      name: id
      required: true
      schema:
        format: int64
        nullable: false
        type: integer
  responses:
    BadRequest:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
      description: Bad Request
    Unauthorized:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
      description: Unauthorized
    InternalServerError:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
      description: Internal Server Error
    Conflict:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
      description: Conflict
    NotFound:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
      description: Not Found
    Forbidden:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
      description: Forbidden
  schemas:
    UserPageResponse:
      allOf:
      - $ref: "#/components/schemas/PageResponse"
      - properties:
          content:
            items:
              $ref: "#/components/schemas/UserResponse"
            type: array
        required:
        - content
        type: object
      example:
        number: 5
        size: 1
        last: true
        totalPages: 6
        first: true
        content:
        - firstName: firstName
          lastName: lastName
          role: USER
          id: 5
          username: username
        - firstName: firstName
          lastName: lastName
          role: USER
          id: 5
          username: username
        totalElements: 0
    UserResponse:
      description: Данные пользователя
      example:
        firstName: firstName
        lastName: lastName
        role: USER
        id: 5
        username: username
      properties:
        id:
          description: Уникальный идентификатор пользователя
          format: int64
          type: integer
        username:
          description: Имя пользователя
          type: string
        firstName:
          description: Имя
          type: string
        lastName:
          description: Фамилия
          type: string
        role:
          $ref: "#/components/schemas/UserRole"
      required:
      - firstName
      - id
      - lastName
      - role
      - username
      type: object
    ErrorResponse:
      example:
        errors:
        - code: code
          message: message
        - code: code
          message: message
      nullable: false
      properties:
        errors:
          items:
            $ref: "#/components/schemas/Error"
          type: array
      required:
      - errors
      type: object
    Error:
      example:
        code: code
        message: message
      properties:
        code:
          type: string
        message:
          type: string
      required:
      - code
      - message
      type: object
    UserRequest:
      description: Данные для создания пользователя
      example:
        firstName: firstName
        lastName: lastName
        password: password
        role: USER
        username: username
      properties:
        username:
          description: Имя пользователя (уникальное)
          maxLength: 50
          minLength: 3
          pattern: "^[a-zA-Z0-9_-]+$"
          type: string
        firstName:
          description: Имя
          maxLength: 100
          minLength: 1
          type: string
        lastName:
          description: Фамилия
          maxLength: 100
          minLength: 1
          type: string
        role:
          $ref: "#/components/schemas/UserRole"
        password:
          description: Пароль (обязательное поле при создании)
          format: password
          maxLength: 100
          minLength: 8
          type: string
      required:
      - firstName
      - lastName
      - password
      - role
      - username
      type: object
    UpdateUserRequest:
      description: Данные для обновления пользователя
      example:
        firstName: firstName
        lastName: lastName
        role: USER
        username: username
      properties:
        username:
          description: Имя пользователя (уникальное)
          maxLength: 50
          minLength: 3
          pattern: "^[a-zA-Z0-9_-]+$"
          type: string
        firstName:
          description: Имя
          maxLength: 100
          minLength: 1
          type: string
        lastName:
          description: Фамилия
          maxLength: 100
          minLength: 1
          type: string
        role:
          $ref: "#/components/schemas/UserRole"
      required:
      - firstName
      - lastName
      - role
      - username
      type: object
    LoginRequest:
      description: Данные для входа в систему
      example:
        password: password
        username: username
      properties:
        username:
          description: Имя пользователя
          maxLength: 50
          minLength: 1
          type: string
        password:
          description: Пароль
          format: password
          maxLength: 100
          minLength: 1
          type: string
      required:
      - password
      - username
      type: object
    LoginResponse:
      description: Токены доступа после успешной аутентификации
      example:
        expiresIn: 0
        accessToken: accessToken
        tokenType: tokenType
        refreshToken: refreshToken
        refreshExpiresIn: 6
      properties:
        accessToken:
          description: JWT токен доступа
          type: string
        refreshToken:
          description: Refresh токен для обновления access токена
          type: string
        expiresIn:
          description: Время жизни токена в секундах
          type: integer
        refreshExpiresIn:
          description: Время жизни refresh токена в секундах
          type: integer
        tokenType:
          description: Тип токена (обычно "Bearer")
          type: string
      required:
      - accessToken
      - expiresIn
      - tokenType
      type: object
    TeamPageResponse:
      allOf:
      - $ref: "#/components/schemas/PageResponse"
      - properties:
          content:
            items:
              $ref: "#/components/schemas/TeamResponse"
            type: array
        required:
        - content
        type: object
      example:
        number: 5
        size: 1
        last: true
        totalPages: 6
        first: true
        content:
        - members:
          - firstName: firstName
            lastName: lastName
            role: USER
            id: 5
            username: username
          - firstName: firstName
            lastName: lastName
            role: USER
            id: 5
            username: username
          name: name
          description: description
          id: 5
        - members:
          - firstName: firstName
            lastName: lastName
            role: USER
            id: 5
            username: username
          - firstName: firstName
            lastName: lastName
            role: USER
            id: 5
            username: username
          name: name
          description: description
          id: 5
        totalElements: 0
    TeamResponse:
      description: Данные команды
      example:
        members:
        - firstName: firstName
          lastName: lastName
          role: USER
          id: 5
          username: username
        - firstName: firstName
          lastName: lastName
          role: USER
          id: 5
          username: username
        name: name
        description: description
        id: 5
      properties:
        id:
          description: Уникальный идентификатор команды
          format: int64
          type: integer
        name:
          description: Название команды
          type: string
        description:
          description: Описание команды
          nullable: true
          type: string
        members:
          description: Список членов команды
          items:
            $ref: "#/components/schemas/UserResponse"
          type: array
      required:
      - id
      - members
      - name
      type: object
    TeamRequest:
      description: Данные для создания/обновления команды
      example:
        name: name
        description: description
        memberIds:
        - 0
        - 0
      properties:
        name:
          description: Название команды
          maxLength: 255
          minLength: 1
          type: string
        description:
          description: Описание команды
          maxLength: 1000
          nullable: true
          type: string
        memberIds:
          description: Список ID членов команды
          items:
            format: int64
            type: integer
          minItems: 1
          type: array
      required:
      - memberIds
      - name
      type: object
    SystemPageResponse:
      allOf:
      - $ref: "#/components/schemas/PageResponse"
      - properties:
          content:
            items:
              $ref: "#/components/schemas/SystemResponse"
            type: array
        required:
        - content
        type: object
      example:
        number: 5
        size: 1
        last: true
        totalPages: 6
        first: true
        content:
        - name: name
          description: description
          id: 5
          subsystems:
          - systemId: 7
            teamId: 9
            name: name
            description: description
            id: 2
          - systemId: 7
            teamId: 9
            name: name
            description: description
            id: 2
        - name: name
          description: description
          id: 5
          subsystems:
          - systemId: 7
            teamId: 9
            name: name
            description: description
            id: 2
          - systemId: 7
            teamId: 9
            name: name
            description: description
            id: 2
        totalElements: 0
    SystemResponse:
      description: Данные системы
      example:
        name: name
        description: description
        id: 5
        subsystems:
        - systemId: 7
          teamId: 9
          name: name
          description: description
          id: 2
        - systemId: 7
          teamId: 9
          name: name
          description: description
          id: 2
      properties:
        id:
          description: Уникальный идентификатор системы
          format: int64
          type: integer
        name:
          description: Название системы
          type: string
        description:
          description: Описание системы
          nullable: true
          type: string
        subsystems:
          description: Список подсистем
          items:
            $ref: "#/components/schemas/SubsystemResponse"
          type: array
      required:
      - id
      - name
      - subsystems
      type: object
    SubsystemResponse:
      description: Данные подсистемы
      example:
        systemId: 7
        teamId: 9
        name: name
        description: description
        id: 2
      properties:
        id:
          description: Уникальный идентификатор подсистемы
          format: int64
          type: integer
        name:
          description: Название подсистемы
          type: string
        description:
          description: Описание подсистемы
          nullable: true
          type: string
        systemId:
          description: ID родительской системы
          format: int64
          type: integer
        teamId:
          description: ID ответственной команды
          format: int64
          type: integer
      required:
      - id
      - name
      - systemId
      - teamId
      type: object
    SystemRequest:
      description: Данные для создания/обновления системы
      example:
        name: name
        description: description
      properties:
        name:
          description: Название системы
          maxLength: 255
          minLength: 1
          type: string
        description:
          description: Описание системы
          maxLength: 1000
          nullable: true
          type: string
      required:
      - name
      type: object
    SubsystemPageResponse:
      description: Список подсистем
      items:
        $ref: "#/components/schemas/SubsystemResponse"
      type: array
    SubsystemRequest:
      description: Данные для создания/обновления подсистемы
      example:
        systemId: 0
        teamId: 6
        name: name
        description: description
      properties:
        name:
          description: Название подсистемы
          maxLength: 255
          minLength: 1
          type: string
        description:
          description: Описание подсистемы
          maxLength: 1000
          nullable: true
          type: string
        systemId:
          description: ID родительской системы
          format: int64
          type: integer
        teamId:
          description: ID ответственной команды
          format: int64
          type: integer
      required:
      - name
      - systemId
      - teamId
      type: object
    RfcPageResponse:
      allOf:
      - $ref: "#/components/schemas/PageResponse"
      - properties:
          content:
            items:
              $ref: "#/components/schemas/RfcResponse"
            type: array
        required:
        - content
        type: object
      example:
        number: 5
        size: 1
        last: true
        totalPages: 6
        first: true
        content:
        - createDatetime: 2000-01-23T04:56:07.000+00:00
          requesterId: 2
          attachments:
          - uploadedById: 1
            createDatetime: 2000-01-23T04:56:07.000+00:00
            fileSize: 1
            id: 7
            rfcId: 1
            uploadedByName: uploadedByName
            contentType: contentType
            originalFilename: originalFilename
          - uploadedById: 1
            createDatetime: 2000-01-23T04:56:07.000+00:00
            fileSize: 1
            id: 7
            rfcId: 1
            uploadedByName: uploadedByName
            contentType: contentType
            originalFilename: originalFilename
          updateDatetime: 2000-01-23T04:56:07.000+00:00
          implementationDate: 2000-01-23T04:56:07.000+00:00
          affectedSystems:
          - systemId: 9
            systemName: systemName
            affectedSubsystems:
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            id: 7
          - systemId: 9
            systemName: systemName
            affectedSubsystems:
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            id: 7
          urgency: EMERGENCY
          description: description
          id: 5
          title: title
          actions:
          - UPDATE
          - UPDATE
          status: NEW
        - createDatetime: 2000-01-23T04:56:07.000+00:00
          requesterId: 2
          attachments:
          - uploadedById: 1
            createDatetime: 2000-01-23T04:56:07.000+00:00
            fileSize: 1
            id: 7
            rfcId: 1
            uploadedByName: uploadedByName
            contentType: contentType
            originalFilename: originalFilename
          - uploadedById: 1
            createDatetime: 2000-01-23T04:56:07.000+00:00
            fileSize: 1
            id: 7
            rfcId: 1
            uploadedByName: uploadedByName
            contentType: contentType
            originalFilename: originalFilename
          updateDatetime: 2000-01-23T04:56:07.000+00:00
          implementationDate: 2000-01-23T04:56:07.000+00:00
          affectedSystems:
          - systemId: 9
            systemName: systemName
            affectedSubsystems:
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            id: 7
          - systemId: 9
            systemName: systemName
            affectedSubsystems:
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            - subsystemId: 2
              executorName: executorName
              executorId: 4
              confirmationStatus: PENDING
              executionStatus: PENDING
              id: 3
              subsystemName: subsystemName
            id: 7
          urgency: EMERGENCY
          description: description
          id: 5
          title: title
          actions:
          - UPDATE
          - UPDATE
          status: NEW
        totalElements: 0
    RfcResponse:
      description: Данные RFC
      example:
        createDatetime: 2000-01-23T04:56:07.000+00:00
        requesterId: 2
        attachments:
        - uploadedById: 1
          createDatetime: 2000-01-23T04:56:07.000+00:00
          fileSize: 1
          id: 7
          rfcId: 1
          uploadedByName: uploadedByName
          contentType: contentType
          originalFilename: originalFilename
        - uploadedById: 1
          createDatetime: 2000-01-23T04:56:07.000+00:00
          fileSize: 1
          id: 7
          rfcId: 1
          uploadedByName: uploadedByName
          contentType: contentType
          originalFilename: originalFilename
        updateDatetime: 2000-01-23T04:56:07.000+00:00
        implementationDate: 2000-01-23T04:56:07.000+00:00
        affectedSystems:
        - systemId: 9
          systemName: systemName
          affectedSubsystems:
          - subsystemId: 2
            executorName: executorName
            executorId: 4
            confirmationStatus: PENDING
            executionStatus: PENDING
            id: 3
            subsystemName: subsystemName
          - subsystemId: 2
            executorName: executorName
            executorId: 4
            confirmationStatus: PENDING
            executionStatus: PENDING
            id: 3
            subsystemName: subsystemName
          id: 7
        - systemId: 9
          systemName: systemName
          affectedSubsystems:
          - subsystemId: 2
            executorName: executorName
            executorId: 4
            confirmationStatus: PENDING
            executionStatus: PENDING
            id: 3
            subsystemName: subsystemName
          - subsystemId: 2
            executorName: executorName
            executorId: 4
            confirmationStatus: PENDING
            executionStatus: PENDING
            id: 3
            subsystemName: subsystemName
          id: 7
        urgency: EMERGENCY
        description: description
        id: 5
        title: title
        actions:
        - UPDATE
        - UPDATE
        status: NEW
      properties:
        id:
          description: Уникальный идентификатор RFC
          format: int64
          type: integer
        title:
          description: Название RFC
          type: string
        description:
          description: Описание изменения
          nullable: true
          type: string
        implementationDate:
          description: Дата релиза изменений
          format: date-time
          type: string
        urgency:
          $ref: "#/components/schemas/Urgency"
        status:
          $ref: "#/components/schemas/RfcStatus"
        requesterId:
          description: ID создателя RFC
          format: int64
          type: integer
        affectedSystems:
          description: Затронутые системы с подсистемами
          items:
            $ref: "#/components/schemas/AffectedSystemResponse"
          type: array
        attachments:
          description: Прикрепленные файлы (метаинформация)
          items:
            $ref: "#/components/schemas/AttachmentResponse"
          type: array
        actions:
          description: Доступные действия для текущего пользователя
          items:
            $ref: "#/components/schemas/RfcAction"
          type: array
        createDatetime:
          description: Дата и время создания
          format: date-time
          type: string
        updateDatetime:
          description: Дата и время последнего обновления
          format: date-time
          type: string
      required:
      - actions
      - affectedSystems
      - attachments
      - createDatetime
      - id
      - implementationDate
      - requesterId
      - status
      - title
      - updateDatetime
      - urgency
      type: object
    Urgency:
      description: Срочность RFC
      enum:
      - EMERGENCY
      - URGENT
      - PLANNED
      type: string
    RfcStatus:
      description: Статус RFC
      enum:
      - NEW
      - UNDER_REVIEW
      - APPROVED
      - IMPLEMENTED
      - REJECTED
      type: string
    AffectedSystemResponse:
      description: Затронутая система с подсистемами
      example:
        systemId: 9
        systemName: systemName
        affectedSubsystems:
        - subsystemId: 2
          executorName: executorName
          executorId: 4
          confirmationStatus: PENDING
          executionStatus: PENDING
          id: 3
          subsystemName: subsystemName
        - subsystemId: 2
          executorName: executorName
          executorId: 4
          confirmationStatus: PENDING
          executionStatus: PENDING
          id: 3
          subsystemName: subsystemName
        id: 7
      properties:
        id:
          description: ID связи с системой
          format: int64
          type: integer
        systemId:
          description: ID системы
          format: int64
          type: integer
        systemName:
          description: Название системы
          type: string
        affectedSubsystems:
          description: Затронутые подсистемы
          items:
            $ref: "#/components/schemas/AffectedSubsystemResponse"
          type: array
      required:
      - affectedSubsystems
      - id
      - systemId
      - systemName
      type: object
    AffectedSubsystemResponse:
      description: Затронутая подсистема с исполнителем
      example:
        subsystemId: 2
        executorName: executorName
        executorId: 4
        confirmationStatus: PENDING
        executionStatus: PENDING
        id: 3
        subsystemName: subsystemName
      properties:
        id:
          description: ID связи с подсистемой
          format: int64
          type: integer
        subsystemId:
          description: ID подсистемы
          format: int64
          type: integer
        subsystemName:
          description: Название подсистемы
          type: string
        executorId:
          description: ID исполнителя
          format: int64
          type: integer
        executorName:
          description: Имя исполнителя
          type: string
        confirmationStatus:
          $ref: "#/components/schemas/ConfirmationStatus"
        executionStatus:
          $ref: "#/components/schemas/ExecutionStatus"
      required:
      - confirmationStatus
      - executionStatus
      - executorId
      - executorName
      - id
      - subsystemId
      - subsystemName
      type: object
    ConfirmationStatus:
      description: Статус подтверждения исполнителем
      enum:
      - PENDING
      - CONFIRMED
      - REJECTED
      type: string
    ExecutionStatus:
      description: Статус выполнения задачи исполнителем
      enum:
      - PENDING
      - IN_PROGRESS
      - DONE
      type: string
    RfcAction:
      description: "Действия, доступные пользователю для RFC"
      enum:
      - UPDATE
      - DELETE
      - APPROVE
      type: string
    RfcRequest:
      description: Данные для создания/обновления RFC
      example:
        implementationDate: 2000-01-23T04:56:07.000+00:00
        affectedSystems:
        - systemId: 0
          affectedSubsystems:
          - subsystemId: 6
            executorId: 1
          - subsystemId: 6
            executorId: 1
        - systemId: 0
          affectedSubsystems:
          - subsystemId: 6
            executorId: 1
          - subsystemId: 6
            executorId: 1
        urgency: EMERGENCY
        description: description
        attachmentIds:
        - 5
        - 5
        title: title
      properties:
        title:
          description: Название RFC
          maxLength: 255
          minLength: 1
          type: string
        description:
          description: Описание изменения
          maxLength: 5000
          nullable: true
          type: string
        implementationDate:
          description: Дата релиза изменений
          format: date-time
          type: string
        urgency:
          $ref: "#/components/schemas/Urgency"
        affectedSystems:
          description: Затронутые системы с подсистемами и исполнителями
          items:
            $ref: "#/components/schemas/AffectedSystemRequest"
          minItems: 1
          type: array
        attachmentIds:
          description: ID загруженных файлов для привязки к RFC
          items:
            format: int64
            type: integer
          type: array
      required:
      - affectedSystems
      - implementationDate
      - title
      - urgency
      type: object
    AffectedSystemRequest:
      description: Затронутая система для создания/обновления
      example:
        systemId: 0
        affectedSubsystems:
        - subsystemId: 6
          executorId: 1
        - subsystemId: 6
          executorId: 1
      properties:
        systemId:
          description: ID системы
          format: int64
          type: integer
        affectedSubsystems:
          description: Затронутые подсистемы с исполнителями
          items:
            $ref: "#/components/schemas/AffectedSubsystemRequest"
          minItems: 1
          type: array
      required:
      - affectedSubsystems
      - systemId
      type: object
    AffectedSubsystemRequest:
      description: Затронутая подсистема для создания/обновления
      example:
        subsystemId: 6
        executorId: 1
      properties:
        subsystemId:
          description: ID подсистемы
          format: int64
          type: integer
        executorId:
          description: ID исполнителя из команды подсистемы
          format: int64
          type: integer
      required:
      - executorId
      - subsystemId
      type: object
    ApproveRfcRequest:
      description: Запрос на согласование RFC
      example:
        comment: comment
      properties:
        comment:
          description: Комментарий согласующего
          maxLength: 1000
          nullable: true
          type: string
      type: object
    RfcApprovalResponse:
      description: Информация о согласовании RFC
      example:
        createDatetime: 2000-01-23T04:56:07.000+00:00
        updateDatetime: 2000-01-23T04:56:07.000+00:00
        approverId: 1
        comment: comment
        id: 0
        rfcId: 6
        isApproved: true
        approverName: approverName
      properties:
        id:
          description: ID записи согласования
          format: int64
          type: integer
        rfcId:
          description: ID RFC
          format: int64
          type: integer
        approverId:
          description: ID согласующего
          format: int64
          type: integer
        approverName:
          description: Имя согласующего
          type: string
        isApproved:
          description: "Флаг согласования (true - согласовано, false - отклонено)"
          type: boolean
        comment:
          description: Комментарий согласующего
          nullable: true
          type: string
        createDatetime:
          description: Дата и время создания
          format: date-time
          type: string
        updateDatetime:
          description: Дата и время последнего обновления
          format: date-time
          type: string
      required:
      - approverId
      - approverName
      - createDatetime
      - id
      - isApproved
      - rfcId
      - updateDatetime
      type: object
    UnapproveRfcRequest:
      description: Запрос на отмену согласования RFC
      example:
        comment: comment
      properties:
        comment:
          description: Комментарий согласующего
          maxLength: 1000
          nullable: true
          type: string
      type: object
    RfcApprovalsResponse:
      description: Список согласований для RFC
      example:
        approvals:
        - createDatetime: 2000-01-23T04:56:07.000+00:00
          updateDatetime: 2000-01-23T04:56:07.000+00:00
          approverId: 1
          comment: comment
          id: 0
          rfcId: 6
          isApproved: true
          approverName: approverName
        - createDatetime: 2000-01-23T04:56:07.000+00:00
          updateDatetime: 2000-01-23T04:56:07.000+00:00
          approverId: 1
          comment: comment
          id: 0
          rfcId: 6
          isApproved: true
          approverName: approverName
        rfcId: 0
      properties:
        rfcId:
          description: ID RFC
          format: int64
          type: integer
        approvals:
          description: Список согласований
          items:
            $ref: "#/components/schemas/RfcApprovalResponse"
          type: array
      required:
      - approvals
      - rfcId
      type: object
    AttachmentResponse:
      description: Данные прикрепленного файла
      example:
        uploadedById: 1
        createDatetime: 2000-01-23T04:56:07.000+00:00
        fileSize: 1
        id: 7
        rfcId: 1
        uploadedByName: uploadedByName
        contentType: contentType
        originalFilename: originalFilename
      properties:
        id:
          description: Уникальный идентификатор вложения
          format: int64
          type: integer
        rfcId:
          description: ID RFC (если привязан)
          format: int64
          nullable: true
          type: integer
        originalFilename:
          description: Оригинальное имя файла
          type: string
        fileSize:
          description: Размер файла в байтах
          format: int64
          type: integer
        contentType:
          description: MIME тип файла
          nullable: true
          type: string
        uploadedById:
          description: "ID пользователя, загрузившего файл"
          format: int64
          type: integer
        uploadedByName:
          description: "Имя пользователя, загрузившего файл"
          type: string
        createDatetime:
          description: Дата и время загрузки
          format: date-time
          type: string
      required:
      - createDatetime
      - fileSize
      - id
      - originalFilename
      - uploadedById
      - uploadedByName
      type: object
    PageResponse:
      description: Общая схема для пагинированных ответов
      properties:
        totalElements:
          description: Общее количество элементов
          format: int64
          type: integer
        totalPages:
          description: Общее количество страниц
          type: integer
        size:
          description: Размер страницы
          type: integer
        number:
          description: Номер текущей страницы (начиная с 0)
          type: integer
        first:
          description: Является ли текущая страница первой
          type: boolean
        last:
          description: Является ли текущая страница последней
          type: boolean
      required:
      - first
      - last
      - number
      - size
      - totalElements
      - totalPages
      type: object
    UserRole:
      description: Роль пользователя в системе
      enum:
      - USER
      - RFC_APPROVER
      - CAB_MANAGER
      - ADMIN
      type: string
    updateSubsystemConfirmationStatus_request:
      properties:
        status:
          enum:
          - CONFIRMED
          - REJECTED
          type: string
        comment:
          description: Комментарий к изменению статуса
          maxLength: 1000
          nullable: true
          type: string
      required:
      - status
      type: object
    updateSubsystemExecutionStatus_request:
      properties:
        status:
          enum:
          - IN_PROGRESS
          - DONE
          type: string
        comment:
          description: Комментарий к изменению статуса
          maxLength: 1000
          nullable: true
          type: string
      required:
      - status
      type: object
    uploadAttachment_request:
      properties:
        file:
          description: Файл для загрузки (максимум 5MB)
          format: binary
          type: string
      required:
      - file
      type: object
  securitySchemes:
    bearerAuth:
      bearerFormat: JWT
      description: JWT token
      scheme: bearer
      type: http
